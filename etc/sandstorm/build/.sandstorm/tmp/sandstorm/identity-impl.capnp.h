// Generated by Cap'n Proto compiler, DO NOT EDIT
// source: identity-impl.capnp

#ifndef CAPNP_INCLUDED_acf10e4407376d3f_
#define CAPNP_INCLUDED_acf10e4407376d3f_

#include <capnp/generated-header-support.h>
#if !CAPNP_LITE
#include <capnp/capability.h>
#endif  // !CAPNP_LITE

#if CAPNP_VERSION != 6000
#error "Version mismatch between generated code and library headers.  You must use the same version of the Cap'n Proto compiler and library."
#endif

#include "identity.capnp.h"
#include "supervisor.capnp.h"

namespace capnp {
namespace schemas {

CAPNP_DECLARE_SCHEMA(aaecb6e5c137fd7a);

}  // namespace schemas
}  // namespace capnp

namespace sandstorm {

struct PersistentIdentity {
  PersistentIdentity() = delete;

#if !CAPNP_LITE
  class Client;
  class Server;
#endif  // !CAPNP_LITE


  #if !CAPNP_LITE
  struct _capnpPrivate {
    CAPNP_DECLARE_INTERFACE_HEADER(aaecb6e5c137fd7a)
    static constexpr ::capnp::_::RawBrandedSchema const* brand = &schema->defaultBrand;
  };
  #endif  // !CAPNP_LITE
};

// =======================================================================================

#if !CAPNP_LITE
class PersistentIdentity::Client
    : public virtual ::capnp::Capability::Client,
      public virtual  ::sandstorm::Identity::Client,
      public virtual  ::sandstorm::SystemPersistent::Client {
public:
  typedef PersistentIdentity Calls;
  typedef PersistentIdentity Reads;

  Client(decltype(nullptr));
  explicit Client(::kj::Own< ::capnp::ClientHook>&& hook);
  template <typename _t, typename = ::kj::EnableIf< ::kj::canConvert<_t*, Server*>()>>
  Client(::kj::Own<_t>&& server);
  template <typename _t, typename = ::kj::EnableIf< ::kj::canConvert<_t*, Client*>()>>
  Client(::kj::Promise<_t>&& promise);
  Client(::kj::Exception&& exception);
  Client(Client&) = default;
  Client(Client&&) = default;
  Client& operator=(Client& other);
  Client& operator=(Client&& other);


protected:
  Client() = default;
};

class PersistentIdentity::Server
    : public virtual ::capnp::Capability::Server,
      public virtual  ::sandstorm::Identity::Server,
      public virtual  ::sandstorm::SystemPersistent::Server {
public:
  typedef PersistentIdentity Serves;

  ::kj::Promise<void> dispatchCall(uint64_t interfaceId, uint16_t methodId,
      ::capnp::CallContext< ::capnp::AnyPointer, ::capnp::AnyPointer> context)
      override;

protected:

  inline  ::sandstorm::PersistentIdentity::Client thisCap() {
    return ::capnp::Capability::Server::thisCap()
        .template castAs< ::sandstorm::PersistentIdentity>();
  }

  ::kj::Promise<void> dispatchCallInternal(uint16_t methodId,
      ::capnp::CallContext< ::capnp::AnyPointer, ::capnp::AnyPointer> context);
};
#endif  // !CAPNP_LITE

// =======================================================================================

#if !CAPNP_LITE
inline PersistentIdentity::Client::Client(decltype(nullptr))
    : ::capnp::Capability::Client(nullptr) {}
inline PersistentIdentity::Client::Client(
    ::kj::Own< ::capnp::ClientHook>&& hook)
    : ::capnp::Capability::Client(::kj::mv(hook)) {}
template <typename _t, typename>
inline PersistentIdentity::Client::Client(::kj::Own<_t>&& server)
    : ::capnp::Capability::Client(::kj::mv(server)) {}
template <typename _t, typename>
inline PersistentIdentity::Client::Client(::kj::Promise<_t>&& promise)
    : ::capnp::Capability::Client(::kj::mv(promise)) {}
inline PersistentIdentity::Client::Client(::kj::Exception&& exception)
    : ::capnp::Capability::Client(::kj::mv(exception)) {}
inline  ::sandstorm::PersistentIdentity::Client& PersistentIdentity::Client::operator=(Client& other) {
  ::capnp::Capability::Client::operator=(other);
  return *this;
}
inline  ::sandstorm::PersistentIdentity::Client& PersistentIdentity::Client::operator=(Client&& other) {
  ::capnp::Capability::Client::operator=(kj::mv(other));
  return *this;
}

#endif  // !CAPNP_LITE
}  // namespace

#endif  // CAPNP_INCLUDED_acf10e4407376d3f_
